<!DOCTYPE html>
<html>

<head>
	<title>Prime Shooter</title>
	<meta charset="UTF-8">
	<meta name="description"
		content="Prime Shooter.Shot composite number.Do NOT shot prime number.素数シューティングという、素数以外を撃つゲームです">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta content="IE=edge" http-equiv="X-UA-Compatible">
	<script src="index.js" async></script>
	<style>
		html,
		body,
		canvas,
		div {
			padding: 0;
			margin: 0;
			/*overflow: hidden;*/
		}

		body {
			font-family: 'Lato', 'kokoro', 'Noto Sans JP', sans-serif;
			font-weight: 300;
			/*
			-webkit-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
			user-select: none;
			*/
			background-color: #a799ef;
			color: #130f40;
			overflow: hidden;
		}

		canvas#c1 {
			box-shadow: 0 12px 60px rgba(10, 10, 10, 0.3);
		}

		canvas#bg {
			position: absolute;
			top: 0;
			left: 0;
		}

		#container {
			width: 100%;
			display: flex;
			justify-content: center;
			flex-wrap: wrap;
			max-height: 100%;
			overflow-y: auto;
			overflow-x: hidden;
		}

		#help {
			max-width: 30em;
			max-height: 100%;
			text-align: start;
			line-height: 2;
			margin: 0.5em;
			padding-right: 1em;
			max-height: calc(100vh - 1em);
			overflow-x: hidden;
			overflow-y: auto;
		}

		#help h2 {
			text-shadow: none;
			font-weight: 300;
			font-size: 1.8em;
			margin: 1em 0 0.5em 0;
		}

		#help p {
			margin: 0.25em 0;
		}

		#help pre {
			white-space: pre-wrap;
			font: inherit;
		}

		#rankingList {
			text-align: start;
		}

		#rankingList>* {
			display: block;
		}

		#rankingList>*>* {
			display: inline-block;
		}

		#rankingList>*>*:first-child {
			min-width: 3em;
		}

		#rankingList>*>*:nth-child(2) {
			min-width: 5em;
		}

		#rankingList>*>*:nth-child(3) {
			min-width: 6em;
		}

		#rankingList>*>*:not(:first-child) {
			margin-left: 1em;
		}

		.hide {
			display: none;
		}

		.stack>* {
			position: absolute;
		}

		.stack>*>* {
			position: relative;
		}
	</style>
</head>

<body class="stack">
	<!-- <canvas id="bg"></canvas> -->
	<div id="container">
		<div id="help">
			<p>
				&emsp;合成数をすべて撃ってください。
			</p>
			<p>
				&emsp;[←|→]で移動。[↑]で弾を打つ。[H]で素数を色分け。
			</p>
			<p>
				&emsp;タッチ操作の場合、画面の下の方をタッチして移動し、上の方をタップして玉を撃ち、真ん中あたりをタップして素数に印をつける。
			</p>
			<p>
				&emsp;[Start]を撃ち、Filterの追加に進む</p>
			<p>&emsp; [↑|↓]を撃ち、Filterの位置を決めた上で、[Add&amp;Start]を撃つ </p>
			<p>&emsp;Filterに当たった素数は得点に変換される</p>
			<p>&emsp;ゲーム終了後、[Add to Ranking]を押すことで、ランキングに追加できる</p>
			<h2>得点計算</h2>
			<ul>
				<li>Filterによって素数Nが消される: +1(lv) +7N(pt)</li>
				<li>合成数Nを撃つ: +1/7(Lv) +N(Pt)</li>
				<li>素数Nを撃つ: -31/7(Lv) -31N(Pt) -3(Life)</li>
				<li>素数Nが下まで落ちる: +11/7(Lv) +11N(Pt)</li>
				<li>合成数Nが下まで落ちる: -17/7(Lv) -17N(Pt) -1(Life)</li>
				<li>13lv上がるごとに: +1(Help)</li>
				<li>97Lv上がるごとに: +1(Filter)</li>
			</ul>
			<hr>
			<pre>
ここは、数が降り注ぐ世界。
あなたは、拠点を守る存在。
あなたは、数に干渉する存在。

あなたの拠点は合成数に弱いので、一番下まで合成数が落ちてくるとライフを失ってしまいます。
それでは、どうやって落ちてくる合成数から身を守るのか？
自己防衛のために戦うのです。合成数を打ちましょう。
合成数はしょせん素数を掛け合わせたものにすぎないので、弾を打ち込んであげればそれだけで素数に分解されてくれます。

気を付けてください。12 に一回弾を打ち込んでも、 2 と 6 に分解されるだけです。新たに生じた6にも弾を打ち込んで2と3に分解しなければいけません。
細かいことを言うならば、36は2と18、75は3と25、というようにその数に含まれるもっとも小さな素数が左へ、それ以外が右へと分解されます。

ここまで聞いたあなたはきっと思うことでしょう。「とりあえず全部の数に弾打っとけば勝てるやん」と。
しかしそうはいかないのです。あなたが打ち込む弾が素数に当たってしまうと、まるでウランの塊に中性子を打ち込んだ時のように激しい爆発が起きてしまいます。
結果、合成数を下まで落とした時の3倍のダメージを受けることとなるのです。
気を付けてください。２回素数を打つだけであなたのライフは０になります。素数と弾が反応することの危険性を理解してください。

～数年後～

おっと、拠点での開発が進み、新たな装置「Filter」が発明されたようです。
このFilter、素数を虚無に還元する働きを持っています。
素数がFilterにあたるとき、当たった素数は消えます。
拠点はまだまだ小さいのでFilterは一つ一つ手作業で作られています。
そのため、二つ目、三つめのFilterが来るまでにはしばらくの時間がかかります。

活用してください。Filterは、上のほうにある素数を消す唯一の手段です。
考えてください。どこにFilterを置くかは生死を分ける重要な問題です。
間違えないでください。一度置いたFilterは、あなたが力尽きるまで置きなおすことはできません。

さて、あなたはFilterとともに、弾とともに、数の降り注ぐ世界で生き延びなければいけません。
幸い今はまだ小さい数しか振ってこないのですが、375や563などの大きな数が降り注いだ時期もあった、という伝承も残っています。

集中してください。画面上の9レーンすべてから数が落ちてきます。木を見て森も見てください。
安心してください。あなたにはこの世界で生き延びられるだけの素数力があるはずです。
頑張ってください。あなたの健闘を祈っています。
				</pre>
			<hr>
			<p>
				&emsp;Shoot ALL composite numbers.
			</p>
			<p>
				&emsp;Press [←|→] to move and press [↑] to shoot. Press [H] to mark prime numbers.
			</p>
			<p>
				&emsp;Mouse Operation: move with [Left/Right click] and hit a ball with [Middle click].
			</p>
			<p>
				&emsp;Touch Operation: Touch the part of 1/3 from the bottom to move, tap the 1/3 part from the top to shoot the
				ball, tap
				the middle and mark the prime numbers.
			</p>
			<p>&emsp;Shot [Start] and proceed to add Filter. Shoot [↑ | ↓], decide the position of Filter, then shoot [Add
				&amp; Start]. After the game is over, you can add your score to the ranking by shooting [Add to Ranking]</p>
			<h2>Scoreing Rules</h2>
			<ul>
				<li>A prime number N is removed by green horizon line "Filter": +1 Level +7N Points</li>
				<li>A composite number N is shot: +1/7 Levels +N Points</li>
				<li>A prime number N is shot: -31/7 Levels) -31N Points -3 Lives</li>
				<li>A prime number N has fell and disappear: +11/7 Levels +11N Points</li>
				<li>A composite number N has fell and disappear: -17/7 Levels -17N Points -1 Life</li>
				<li>Every 13 Levels increase: +1 Help</li>
				<li>Every 97 Levels increase: +1 Filter</li>
			</ul>
		</div>
		<canvas id="c1"></canvas>
		<div id="ranking" class="hide">
			<ul id="rankingList">
			</ul>
		</div>
	</div>
	<div id="message">Loading...</div>
</body>

</html>